# yaml-language-server: $schema=https://raw.githubusercontent.com/TrucsPES/TestsVue/main/schemas/ecsform.json
form:
  sections:
    # Section 0
    - section: 
        fr: Informations sur la demande
        en: Information on the application
      id: infos
      components:
        - name: TypeDemande
          type: radio
          label: 
            fr: Quel type de demande voulez-vous effectuer?
          validations: 
            required: trim
          options: 
            Afdr: Demande d'aide financière de dernier recours
            AideEmploi: Demande de service d'aide à l'emploi
        - name: 02-Conjoint
          type: radio
          label: 
            fr: Avez-vous un conjoint?
          validations: 
            required: trim
          options: yesno
        - name: Req-00-Enfants
          type: radio
          label: 
            fr: Avez-vous des enfants à charge?
          validations: 
            required: trim
          options: yesno
        - name: Req01-Travaille
          type: radio
          label: 
            fr: Avez-vous déjà travaillé?
          validations: 
            required: trim
          options: yesno
        - name: Req-00-etudes
          type: radio
          label: 
            fr: Êtes-vous aux études?
          validations: 
            required: trim
          options: yesno
    # Section 1
    - section: 
        fr: Raison de la demande
        en: (EN)Raison de la demande
      id: raisonDemande
      v-if: form.TypeDemande
      components:
        - type: dynamic
          v-if: form.TypeDemande === 'Afdr'
          tag: div        
          components:
            - name: EvenementsDerniereAnnee
              type: radio
              label: 
                fr: Indiquez s'il y a lieu, les évènements vécus depuis les 12 derniers mois
              options: 
                ReqFinDiminutionRevenus: Une fin ou une diminution des revenus
                ReqFinEtudesTempsPlein: Une fin d'études à temps plein  
            - name: ReqFinDiminutionRevenusType
              v-if: form.EvenementsDerniereAnnee === 'ReqFinDiminutionRevenus'
              type: radio
              label: 
                fr: Type de revenu
              validations: 
                required: trim
              options: 
                FinRevenusEmploiReq: d'emploi
                FinRevenusTravailAutonomeReq: de travail autonome
                FinRevenusPrestations: de prestations gouvernementales (Assurance-emploi, RQAP, SAAQ, CNESST, etc.)
                FinRevenusAutres: autre
            - name: FinRevenusPrestationsPrecision
              v-if: form.ReqFinDiminutionRevenusType === 'FinRevenusPrestations'
              type: text
              label: 
                fr: Précisez le type de prestations gouvernementales
              validations: 
                required: trim
            - name: FinRevenusAutresPrecision
              v-if: form.ReqFinDiminutionRevenusType === 'FinRevenusAutres'
              type: text
              label: 
                fr: Précisez le type de revenu
              validations: 
                required: trim
            - name: DateEvenementReq
              v-if: form.EvenementsDerniereAnnee
              type: date
              label: 
                fr: Date de l'évènement
              validations: 
                required: trim
            - name: PrecisionRaisonDemandeAfdr
              type: select
              label: 
                fr: Précisez la raison de votre demande d'aide financière
              placeholder:
                fr: Veuillez effectuer une sélection...
              validations: 
                required: trim
              options: 
                AttenteDecision: Vous êtes en attente d'une décision (Assurance-emploi, RQAP, jugement, SAAQ, CNESST, etc.)
                AucunRevenu: Vous êtes sans aucun revenu
                RevenuInsuffisant: Votre revenu est insuffisant
                NaissanceEnfant: Naissance ou prise en charge d'un enfant
                SortieEtablissement: Sortie d'un établissement
                ArriveeConjoint: Arrivée d'un conjoint
                PerteConjoint: Perte du conjoint
                ProblemeSante: Problème de santé
                RemboursementFraisFuneraires: Vous demandez le remboursement de frais funéraires
                PrecisionRaisonDemandeAfdrAutreRaison: Autre raison
            - name: PrecisionRaisonDemandeAfdrAttenteDecision
              v-if: form.PrecisionRaisonDemandeAfdr === 'AttenteDecision'
              type: text
              label: 
                fr: Précisez
              validations: 
                required: trim
            - name: PrecisionRaisonDemandeAfdrRevenuInsuffisant
              v-if: form.PrecisionRaisonDemandeAfdr === 'RevenuInsuffisant'
              type: radio
              label: 
                fr: Type de revenu insuffisant
              validations: 
                required: trim
              options: 
                RevenuInsuffisantRevenusEmploi: d'emploi
                RevenuInsuffisantTravailAutonome: de travail autonome
                RevenuInsuffisantPrestations: de prestations gouvernementales (Assurance-emploi, RQAP, SAAQ, CNESST, etc.)
                RevenuInsuffisantAutres: autre
            - name: PrecisionRaisonDemandeAfdrRevenuInsuffisantPrestation
              v-if: form.PrecisionRaisonDemandeAfdrRevenuInsuffisant === 'RevenuInsuffisantPrestations'
              type: text
              label: 
                fr: Précisez le type de prestation insuffisante
              validations: 
                required: trim
            - name: PrecisionRaisonDemandeAfdrRevenuInsuffisantAutre
              v-if: form.PrecisionRaisonDemandeAfdrRevenuInsuffisant === 'RevenuInsuffisantAutres'
              type: text
              label: 
                fr: Précisez le type de revenu autre
              validations: 
                required: trim
            - name: PrecisionRaisonDemandeAfdrSortieEtablissement
              v-if: form.PrecisionRaisonDemandeAfdr === 'SortieEtablissement'
              type: radio
              label: 
                fr: Précisez le type d'établissement
              validations: 
                required: trim
              options: 
                SortieEtablissementSante: de santé
                SortieEtablissementDetention: de détention
            - name: PrecisionRaisonDemandeAfdrPerteConjoint
              v-if: form.PrecisionRaisonDemandeAfdr === 'PerteConjoint'
              type: radio
              label: 
                fr: Précisez la raison de perte du conjoint
              validations: 
                required: trim
              options: 
                PerteConjointDeces: décès
                PerteConjointSeparation: separation
                PerteConjointDivorce: divorce
            - name: PrecisionRaisonDemandeAfdrAutre
              v-if: form.PrecisionRaisonDemandeAfdr === 'PrecisionRaisonDemandeAfdrAutreRaison'
              type: text
              label: 
                fr: Précisez la raison autre
              validations: 
                required: trim
        - type: dynamic
          v-if: form.TypeDemande === 'AideEmploi'
          tag: div        
          components:      
            - name: PrecisionRaisonDemandeEmploi
              type: radio
              label: 
                fr: Précisez la raison de votre demande de services d'aide à l'emploi
              validations: 
                required: trim
              options: 
                AideRechercheEmploi: Pour de l'aide à la recherche d'emploi
                RetourEcole: Pour un retour à l'école/ou formation
                DirigeEmployeurOrganisme: Vous êtes dirigé par un employeur ou un organisme
                PrecisionRaisonDemandeEmploiAutreRaison: Autre
            - name: PrecisionRaisonDemandeEmploiAutre
              v-if: form.PrecisionRaisonDemandeEmploi === 'DirigeEmployeurOrganisme'
              type: text
              label: 
                fr: Précisez l'employeur ou l'organisme
              validations: 
                required: trim
            - name: PrecisionRaisonDemandeEmploiAutre
              v-if: form.PrecisionRaisonDemandeEmploi === 'PrecisionRaisonDemandeEmploiAutreRaison'
              type: text
              label: 
                fr: Précisez la raison autre
              validations: 
                required: trim
    # Section 2
    - section: 
        fr: Renseignements personnels
      id: renseignementsPersonnels
      components:
        - name: nom1_Req-00
          type: text
          label: 
            fr: Nom de famille
          validations: 
            required: trim
            max: 36,length
        - name: prénom1_Req-00
          type: text
          label: 
            fr: Prénom
          validations: 
            required: trim
            max: 22,length
        - name: date_Req-00
          type: date
          label: 
            fr: Date de naissance
          validations: 
            required: trim
        - name: Req-00_nas1
          type: text
          classes: md          
          label: 
            fr: Numéro d'assurance sociale
          validations: 
            required: trim
            max: 9,length
        - name: date2_Req-00
          v-if: form['Req-00_nas1'] && form['Req-00_nas1'].startsWith('9')
          type: date
          label: 
            fr: Date d'expiration
          validations: 
            required: trim
        - name: Req-00-Sexe
          type: radio
          label: 
            fr: Sexe
          validations: 
            required: trim
          options: 
            Feminim: Féminin 
            Masculin: Masculin 
        - name: Req-00-Langue
          type: radio
          label: 
            fr: Langue de correspondance
          validations: 
            required: trim
          options: 
            Francais: Français 
            Anglais: Anglais 
        - name: Req00-NeQC
          type: radio
          label: 
            fr: Êtes-vous né au Québec?
          validations: 
            required: trim
          options: yesno
        - name: nom3_Req-00
          v-if: form['Req00-NeQC'] && form['Req00-NeQC'] === 'true'
          type: text
          label: 
            fr: Inscrivez le nom de famille et le prénom de l'un de vos parent
          validations: 
            required: trim
            max: 50,length
        - type: dynamic
          v-if: form['Req00-NeQC'] && form['Req00-NeQC'] === 'false'
          tag: div        
          components:
            - name: Req00-CitCanadienne
              type: radio
              label: 
                fr: Avez-vous la citoyenneté canadienne?
              validations: 
                required: trim
              options: yesno
            - name: Oui3
              type: radio
              label: 
                fr: Êtes-vous un résident permanent?
              validations: 
                required: trim
              options: yesno
            - name: Oui4
              type: radio
              label: 
                fr: Êtes-vous un demandeur d'asile?
              validations: 
                required: trim
              options: yesno
            - name: Oui5
              type: radio
              label: 
                fr: Avez-vous obtenu le statut de réfugié ou de personne protégée ou à protéger?
              validations: 
                required: trim
              options: yesno
            - name: autre2_Req-00
              type: text
              label: 
                fr: Autre situation, précisez

    # Section 4
    - section:
        fr: Emplois
      id: emplois
      v-if: form['Req01-Travaille'] === 'true'
      components:
        - name: emplois
          type: group
          repeatable: true
          label:
            fr: Emplois
            en: Jobs
          instanceLabel:
            fr: Emploi
          addLabel:
            fr: Ajouter un emploi
            en: Add a job
          removeLabel:
            fr: Supprimer cet emploi
            en: Delete this job
          validations:
            required: trim
          components:
            - name: emploiNomEntreprise
              type: text
              label:
                fr: Nom de l'entreprise
              validations:
                required: trim
            - name: emploiPeriodeDu
              type: inline
              components: 
              - name: emploiPeriodeDu
                type: date
                label:
                  fr: Période du
                validations:
                  required: trim
              - name: emploiPeriodeAu
                type: date
                label:
                  fr: Période au
                validations:
                  required: trim
            - name: emploiSalaireHebdo
              type: number
              label:
                fr: Salaire par semaine
              validations:
                required: trim
            - name: emploiHeuresHebdo
              type: number
              label:
                fr: Heures par semaine
              validations:
                required: trim
            - name: emploiEmploiOccupe
              type: text
              label:
                fr: Emploi occupé
              validations:
                required: trim
            - name: emploiPrincipalesTachesAccomplies
              type: textarea
              label:
                fr: Principales tâches accomplies
              validations:
                required: trim
            - name: emploiRaisonFinEmploi
              type: select
              label: 
                fr: Raison de la fin d'emploi
              validations: 
                required: trim
              placeholder:
                fr: Veuillez effectuer une sélection...
              options: 
                ManqueTravail: Manque de travail
                ProblemeSante: Problème de santé
                ChangementEmploi: Changement d'emploi
                FermetureEntreprise: Fermeture de l'entreprise
                NaissancePriseChargeEnfant: Naissance ou prise en charge d'un enfant
                Congediement: Congédiement
                AutreRaison: Autre
            - name: emploiPrecisionAutre
              v-if: index && form[name] && form[name][index] && form[name][index].emploiRaisonFinEmploi === 'AutreRaison'
              type: text
              label: 
                fr: Précisez la raison de fin d'emploi
              validations: 
                required: trim
    - section:
        fr: Test de groupes
      id: test
      v-if: 1 === 2
      components:
        - name: attendes
          type: group
          repeatable: true
          label:
            fr: label global
            en:
          instanceLabel:
            fr: Invité
          addLabel:
            fr: Ajouter
          components:
            - name: name
              type: text
              label:
                fr: Nom de l'invité
              validations:
                required: trim
            - name: email
              type: email
              label:
                fr: Courriel de l'invité
              validations:
                required: trim

    # Section 
    - section: 
        fr: Révision
        en: (EN)Test
      id: revision
      components:
        - type: dynamic
          tag: h3
          text: 
            fr: Salut! ceci est une section bidon juste pour tester!


